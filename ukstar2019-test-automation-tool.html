<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>What To Look For in a Test Automation Tool</title>

	<meta name="description"
		content="When my team had to pick an API testing tool, we went with Postman. And the more I used it, the more frustrated I became with it. Both maintaining the tests and figuring out why tests failed (especially when in a CI pipeline) took too much effort. So I decided to write my own tool. Or rather, I set to work with pytest and the requests library, and ended up with a framework of just 300 lines of python code that fit our needs.

The core idea behind my framework is that I don’t want a testing tool that only focuses on making it easy to build tests. It should also make it easy to analyse the test results. It should also make it easy to read and understand the tests, to share them, and to maintain them. Because the thing is, during most of those activities I don’t want to be aware of the tool. I want to focus on the tests and what their results tell me about the quality of the product. That’s the key idea here: only at very specific times do I want to focus on the tool as a tool. At all other times it should just help me test better.

In my talk I will use my framework to illustrate these ideas and expand on them. I will also show how these ideas apply more generally than only to API testing frameworks. Since you’re only as good as your tool and a tool is only as good as its user, being able to evaluate testing tools is an important skill for any tester.">
	<meta name="author" content="Joep Schuurkes">

	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<link rel="stylesheet" href="reveal.js/css/reveal.css">
	<link rel="stylesheet" href="css/ukstar2019.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="css/ukstar2019-code.css">

	<!-- Printing and PDF exports -->
	<script>
	var link = document.createElement( 'link' );
	link.rel = 'stylesheet';
	link.type = 'text/css';
	link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
	document.getElementsByTagName( 'head' )[0].appendChild( link );
	</script>
</head>
<body>
	<div class="reveal">
		<div class="slides" style="text-align: left">
			<section style="text-align: center">
				<h1 style="margin-top:1em">What to look for in a test automation tool</h1>
				<div class="flex" style="margin-top:1.2em;justify-content:space-around">
					<h5>UKStar 2019</h5>
					<h5>11 March 2019</h5>
				</div>
			</section>
			<section>
				<h2>a bit more about me</h2>
				<div class="slide-body">
					<h4>twitter: <a href="https://www.twitter.com/j19sch">@j19sch</a></h4>
					<h4>blog: <a href="https://testingcurve.wordpress.com">testingcurve.wordpress.com</a></h4>
					<h4><a href="https://www.fourhourtester.net/">fourhourtester.net</a> created with Helena Jeret-Mäe</h4>
					<h4>slides: <a href="https://j19sch.github.io">j19sch.github.io</a></h4>
				</div>
			</section>
			<section>
				<h2>2016? Postman/Newman</h2>
				<div class="slide-body">
					<div class="flex-c" style="justify-content:flex-start">
						<div style="flex:0 0 auto">
							<h3>issues</h3>
							<h4>version control</h4>
							<h4>pipeline report (better: logging)</h4>
							<h4>setup/teardown & polling</h4>
						</div>
						<div class="flex-c" style="margin-left:1em;flex:0 1 auto;flex-direction:column;flex:0 1 auto">
							<img class="plain" style="margin-bottom:1em" width="35%" data-src="ukstar2019/postman-logo.png" alt="postman-logo"/>
							<img class="plain" width="35%" data-src="ukstar2019/newman-logo.png" alt="newman-logo"/>
						</div>
					</div>
				</div>			
			</section>
			<section>
				<h2>2017? own tool in Python</h2>
				<div class="slide-body">
					<div class="flex-c" style="justify-content:flex-start">
						<div style="flex:0 1 auto">
							<h3>why Python?</h3>
							<h4>other tool and auto-tests</h4>
							<h4>great for automation</h4>
							<h4>still some tests in Postman</h4>
						</div>
						<div class="flex-c" style="margin-left:3em;flex:0 1 auto;flex-direction:column;flex:0 1 auto">
							<img class="plain" width="100%" data-src="ukstar2019/python-logo.png" alt="python-logo"/>
						</div>
					</div>
				</div>			
			</section>
			<section>
				<h2>what we´ll be doing today</h2>
				<div class="slide-body">
					<h4>walk through some scenarios</h4>
					<h4>illustrate ideas with tool</h4>
					<h4>three levels: ATM</h4>
					<h4>heuristic: C-RUDDER</h4>
					<h4>lessons learned</h4>
				</div>
			</section>
			<section>
				<h2>my own framework</h2>
				<div class="slide-body">
					<h4>requests</h4>
					<h4>pytest</h4>
					<h4>pytest-html</h4>
					<h4>git</h4>
				</div>
			</section>
			<section>
				<h2>my own framework</h2>
				<div class="slide-body">
					<h4>read test data files (pyyaml and pytest)</h4>
					<h4>pytest-logfest</h4>
					<h4>default API credentials</h4>
					<h4>response body parsing</h4>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>glue well-established tools<br>and libraries together</h3>
				</div>
				<aside class="notes">you're not in the test tool business
				differentiator is awesome testing, not awesome test tools</aside>
			</section>
			<section>
				<h2>the API we will be testing</h2>
				<div class="slide-body">
					<h4>books API</h4>
				</div>
			</section>
			<section>
				<h2>let's run some tests</h2>
				<div class="slide-body">
					<h4>output of all green test suite</h4>
					<h4>cool! let's release</h4>
				</div>
			</section>
			<section>
				<div class="level">
					<div>
						<h3 style="margin-bottom:0.1em"><img style="vertical-align:middle;margin-right:1em" width="15%" class="plain" data-src="ukstar2019/toaster.png" alt="toaster"/>Appliance</h3>
						<h4>information about the product</h4>
					</div>
					<div style="margin-top: 2.5em">
						<h4 style="margin-bottom:0"><span class="lighter">C-RUDDE</span>R</h4>
						<h3>Run & Report</h3>
					</div>
				</div>
			</section>
			<section>
				<h2>so what did we test?</h2>
				<div class="slide-body">
					<h4>pytest -v</h4>
					<h4>pytest-html report (leave out? yes)</h4>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>a test does one thing<br>and one thing only</h3>
				</div>
				<aside class="notes">one sentence -> name; size of one thing depends; several similar tests</aside>
			</section>
			<section>
				<h2>let's look at the code</h2>
				<div class="slide-body">
					<h4>show one test</h4>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>progamming language > DSL</h3>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>use transparent abstractions<br>for your seams</h3>
				</div>
				<aside class="notes">example: headers filled by requests
							separation of concerns; don't mix abstraction levels
				</aside>
			</section>

			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>readable tests<br>vs<br>readable code</h3>
				</div>
			</section>
			<section>
				<div class="level">
					<div>
						<h3><img style="vertical-align:middle;margin-right:1em" width="15%" class="plain" data-src="ukstar2019/drill.png" alt="drill"/>Tool</h3>
						<h4>information about the tests</h4>
					</div>
					<div style="margin-top: 2.5em">
						<h4><span class="lighter">C-</span>R<span class="lighter">UDDER</span></h4>
						<h3>Read</h3>
					</div>
				</div>
			</section>
			<section>
				<h2>and then a test failed</h2>
				<div class="slide-body">
					<h4>let's take a look how/why</h4>
					<h4>let's fix it</h4>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>informative pass/fail overview</h3>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>there is no such thing as<br>too much information</h3>
					<aside class="notes">if well-structured / navigateable</aside>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>never trust a test<br>you haven't seen fail</h3>
				</div>
			</section>
			<section>
				<h2>let's add a test</h2>
				<div class="slide-body">
					<h4>ok!</h4>
				</div>
			</section>
			<section>
				<div class="level">
					<div>
						<h3><img style="vertical-align:middle;margin-right:1em" width="15%" class="plain" data-src="ukstar2019/drill.png" alt="drill"/>Tool</h3>
						<h4>information about the tests</h4>
					</div>
					<div style="margin-top: 2.5em">
						<h4>C<span class="lighter">-RUDDER</span></h4>
						<h3>Create</h3>
				</div>
				</div>
			</section>
			<section>
				<h2>let's add a test</h2>
				<div class="slide-body">
					<h3>why did the test error?</h3>
				</div>
			</section>
			<section>
				<h2>let's fix the test</h2>
				<div class="slide-body">
					<h4>debugging</h4>
				</div>
			</section>
			<section>
				<div class="level">
					<div>
						<h3><img style="vertical-align:middle;margin-right:1em" width="15%" class="plain" data-src="ukstar2019/nuts-bolts.png" alt="nuts and bolts"/>Machine</h3>
						<h4>information about the implementation</h4>
					</div>
					<div style="margin-top: 2.5em">
						<h4><span class="lighter">C-RUD</span>D<span class="lighter">ER</span></h4>
						<h3>Debug</h3>
					</div>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>forced switching<br>between levels sucks</h3>
					<aside class="notes">yak shaving</aside>
				</div>
			</section>
			<section>
				<div class="lesson">
					<img class="plain" width="13%" data-src="ukstar2019/light-bulb-icon.png" alt="lightbulb"/>
					<h3>5 things at play,<br>make sure you can separate them</h3>
					<h4>product & infra, auto-tests & infra, testing</h4>
					<aside class="notes">5 things to keep track of</aside>
				</div>
			</section>
 			<section>
				<h1 style="margin-top:1.7em">wrap-up</h1>
			</section>
			<section>
				<h2>ATM - three levels</h2>
				<div class="slide-body">
					<div class="flex" style="flex-direction: column; justify-content: space-between;">
						<div class="flex-c" style="justify-content: space-around;">
							<img style="margin-right:1em;width:10%;height:10%" class="plain" data-src="ukstar2019/toaster.png" alt="toaster"/>
							<h3 style="width:30%">Appliance</h3>
							<h4 style="width:35%">product</h4>
						</div>
						<div class="flex-c" style="margin-top:2em; justify-content: space-around;">
							<img style="margin-right:1em;width:10%;height:10%" class="plain" data-src="ukstar2019/drill.png" alt="drill"/>
							<h3 style="width:30%">Tool</h3>
							<h4 style="width:35%">tests</h4>
						</div>
						<div class="flex-c" style="margin-top:2em; justify-content: space-around;">
							<img style="margin-right:1em;width:10%;height:10%" class="plain" data-src="ukstar2019/nuts-bolts.png" alt="nuts and bolts"/>
							<h3 style="width:30%">Machine</h3>			
							<h4 style="width:35%">implementation</h4>
						</div>
					</div>
				</div>
			</section>
			<section>
				<h2>ATM - three levels</h2>
				<div class="slide-body">
					<h4>levels inform decisions</h4>
					<h4>levels of programming skills</h4>
					<h4>decide for you what level means: appliance install python etc.</h4>
				</div>
			</section>
			<section>
				<h2>C-RUDDER</h2>
				<div class="slide-body">
					<div style="display:flex; justify-content:space-around;">
						<div class="flex" style="width:30%;justify-content: center;flex-direction:column; flex:auto 0 0">
							<h3><span class="heuristic">C</span>reate</h3>
							<h3><span class="heuristic">R</span>ead</h3>
							<h3><span class="lighter heuristic">U</span></h3>
							<h3><span class="lighter heuristic">D</span></h3>
						</div>
							<div class="flex" style="width:40%;justify-content:center;flex-direction:column; flex:auto 0 0">
								<h3><span class="heuristic">D</span>ebug</h3>
								<h3><span class="lighter heuristic">E</span></h3>
								<h3><span class="heuristic">R</span>un & report</h3>
							</div>
						</div>
					</div>
			</section>
			<section>
				<h2>C-RUDDER</h2>
				<div class="slide-body">
					<div style="display:flex; justify-content:space-around;">
						<div class="flex" style="width:30%;justify-content: center;flex-direction:column; flex:auto 0 0">
							<h3><span class="heuristic">C</span>reate</h3>
							<h3><span class="heuristic">R</span>ead</h3>
							<h3><span class="heuristic">U</span>pdate</h3>
							<h3><span class="lighter heuristic">D</span></h3>
						</div>
							<div class="flex" style="width:40%;justify-content:center;flex-direction:column; flex:auto 0 0">
								<h3><span class="heuristic">D</span>ebug</h3>
								<h3><span class="lighter heuristic">E</span></h3>
								<h3><span class="heuristic">R</span>un & report</h3>
							</div>
						</div>
					</div>
			</section>
			<section>
				<h2>C-RUDDER</h2>
				<div class="slide-body">
					<div style="display:flex; justify-content:space-around;">
						<div class="flex" style="width:30%;justify-content: center;flex-direction:column; flex:auto 0 0">
							<h3><span class="heuristic">C</span>reate</h3>
							<h3><span class="heuristic">R</span>ead</h3>
							<h3><span class="heuristic">U</span>pdate</h3>
							<h3><span class="heuristic">D</span>elete</h3>
						</div>
							<div class="flex" style="width:40%;justify-content:center;flex-direction:column; flex:auto 0 0">
								<h3><span class="heuristic">D</span>ebug</h3>
								<h3><span class="lighter heuristic">E</span></h3>
								<h3><span class="heuristic">R</span>un & report</h3>
							</div>
						</div>
					</div>
			</section>
			<section>
				<h2>C-RUDDER</h2>
				<div class="slide-body">
					<div style="display:flex; justify-content:space-around;">
						<div class="flex" style="width:30%;justify-content: center;flex-direction:column; flex:auto 0 0">
							<h3><span class="heuristic">C</span>reate</h3>
							<h3><span class="heuristic">R</span>ead</h3>
							<h3><span class="heuristic">U</span>pdate</h3>
							<h3><span class="heuristic">D</span>elete</h3>
						</div>
							<div class="flex" style="width:40%;justify-content:center;flex-direction:column; flex:auto 0 0">
								<h3><span class="heuristic">D</span>ebug</h3>
								<h3><span class="heuristic">E</span>xplore</h3>
								<h3><span class="heuristic">R</span>un & report</h3>
							</div>
						</div>
					</div>
			</section>
			<section>
				<h2>C-RUDDER</h2>
				<div class="slide-body">
					<h4>map to ATM</h4>
					<h4>what does it look like in practice to you?</h4>
				</div>
			</section>
			<section>
				<h2>lessons learned - auto-tests</h2>
				<div class="slide-body">
					<h4>clean code but not too clean: readable code vs readable test</h4>
					<h4>test should be readable on level of test on one screen / without scrolling</h4>
					<h4>test should test one thing only / explainable in one sentence -> test name</h4>
					<h4>never trust a test you haven't seen fail</h4>
					<h4>separate test from setup/teardown to clarify intention</h4>
					<h4>no such thing as too much information if well-structured</h4>
				</div>
			</section>
			<section>
				<h2>lessons learned - framework</h2>
				<div class="slide-body">
					<h4>closeness to seams / touch the seams / careful with too much abstraction</h4>
					<h4>interact with seam via transparent abstraction</h4>
					<h4>pass/fail overview should be informative</h4>
					<h4>glue code, don't do everything yourself</h4>
					<h4>log all the things</h4>
				</div>
			</section>
			<section>
				<h2>lessons learned - code</h2>
				<div class="slide-body">
					<h4>version control (nothing is lost: deletes, mistakes)</h4>
					<h4>don't be too smart in your code, raises barrier to entry</h4>			
					<h4>different levels of programming skills</h4>
				</div>
			</section>
			<section>
				<h2>lessons learned - other</h2>
				<div class="slide-body">
					<h4>when is which perspective more important?</h4>
					<h4>when is which activity more important?</h4>
					<h4>testing interacts with: product, product infra, framework/runner/auto-tests, f/r/a-t infra, testing</h4>
				</div>
			</section>
			<section>
				<h2>have some Python</h2>
				<pre><code data-trim data-noescape>
@pytest.fixture(scope='function')
def current_date_please():
	return datetime.datetime.now().strftime(H-%m-%s')
				</code></pre>
			</section>
			<section>
				<h2>misc</h2>
				<h4>"it [a computer language] is a novel formal medium for expressing ideas about methodology. Thus, programs must be written for people to read, and only incidentally for machines to execute."<br>Abelson & Sussman in "Structure and Interpretation of Computer Programs"</h4>
				<h4>People don't want an electrical drill, they want a hole in the wall. No, they want to hang up a picture.</h4>
			</section>
			<section>
				<h2>notes</h2>
				<h4>need to generalize beyond API frameworks</h4>
				<h4>language commonly used in your environment OR Python</h4>
				<h4>link atm/c-rudder to test processes</h4>
				<h4>run locally or in pipeline</h4>
				<h4>clean code: naming, structure, refactoring (DRY, separation of concerns)</h4>
				<h4>test result: true +, true -, false +, false -</h4>
				<h4>user vs poweruser vs toolsmith</h4>
				<h4>testers should now basic programming: it's how software is made</h4>
			</section>
			<section>
				<h2>image attribution</h2>
				<div class="slide-body">
					<h5><a href="http://www.iconarchive.com/show/small-n-flat-icons-by-paomedia/light-bulb-icon.html">“lightbulb icon”</a> by <a href="http://www.iconarchive.com/artist/paomedia.html">paomedia</a> is part of the <a href="https://en.wikipedia.org/wiki/Public_domain">public domain</a></h5>
					<h5><a href="https://www.iconfinder.com/icons/3605318/bolt_bolts_construction_rivet_screw_screws_icon">"nuts and bolts icon"</a> by <a href="https://www.iconfinder.com/Chanut-is">Chanut is Industries</a> is licensed under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a></h5>
					<h5><a href="https://www.iconfinder.com/icons/2023120/appliance_bread_breadfast_kitchen_toaster_icon">"toaster icon"</a> by <a href="https://www.iconfinder.com/wxchee">W.X. Chee</a> is free for commercial use (include link to author's website)</h5>
					<h5><a href="https://www.iconfinder.com/icons/3605335/carpentry_drill_drilling_industry_machine_repair_tool_icon">"drill icon"</a> by <a href="https://www.iconfinder.com/Chanut-is">Chanut is Industries</a> is licensed under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a></h5>
				</div>
			</section>
			<section style="text-align: center">
				<h3 style="margin-top: 4em">thank you!</h3>
			</section>
			<section>
				<div class="level" style="text-align: left">
					<div class="flex-c">
						<div>
							<h3><img style="vertical-align:middle;margin-right:1em" width="20%" class="plain" data-src="ukstar2019/toaster.png" alt="toaster"/>Appliance </h3>
							<h4>information about the product</h4>
						</div>
						<div class="flex" style="margin-left:0.8em;justify-content:flex-start;align-items:left;flex-direction:column; flex:auto 0 0">
							<h4 class="lighter heuristic">C</h4>
							<h4 class="lighter heuristic">R</h4>
							<h4 class="lighter heuristic">U</h4>
							<h4 class="lighter heuristic">D</h4>
							<h4 class="lighter heuristic">D</h4>
							<h4 class="lighter heuristic">E</h4>
							<h3><span class="heuristic">R</span>un & report</h3>
						</div>
					</div>
				</div>
			</section>
		</div>

		<script src="reveal.js/lib/js/head.min.js"></script>
		<script src="reveal.js/js/reveal.js"></script>

		<script>

		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls: false,
			progress: true,
			slideNumber: false,
			history: true,
			center: false,

			// test aspect ratio 4:3
			//width: 1024,
			//height: 768,

			transition: 'none', // none/fade/slide/convex/concave/zoom
			transitionspeed: 'fast',

			// Optional reveal.js plugins
			dependencies: [
				{ src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'reveal.js/plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
				{ src: 'reveal.js/plugin/notes/notes.js', async: true }
			]
		});

		</script>

	</body>
	</html>
